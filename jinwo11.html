<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì§„ìš°ì˜ ê°ì„±</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #0a0a0a 0%, #000000 100%);
      color: white;
      font-family: "ë§‘ì€ ê³ ë”•", sans-serif;
      overflow: hidden;
    }

    #scene {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    #mentor {
      width: 200px;
      height: auto;
      margin-bottom: 30px;
      border-radius: 10px;
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.6);
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    #dialogue {
      font-size: 1.4rem;
      margin-top: 20px;
      opacity: 0;
      transition: opacity 1s;
      color: #aafaff;
    }

    #result {
      font-size: 1.8rem;
      font-weight: bold;
      margin-top: 25px;
      opacity: 0;
      transition: opacity 1s;
    }

    #fade {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      opacity: 0;
      transition: opacity 2s;
      z-index: 5;
    }
  </style>
</head>
<body>
  <div id="scene">
    <img id="mentor" src="qudtls.jpg" alt="ìŠ¤ìŠ¹ë‹˜" />
    <div id="dialogue">...í˜ì„ ê°œë°©í•˜ê² ë‹¤...</div>
    <div id="result"></div>
    <div id="fade"></div>
  </div>

  <audio
    id="bgm"
    src="https://cdn.pixabay.com/download/audio/2023/03/16/audio_4e9c18332f.mp3?filename=dark-fantasy-intro-14255.mp3"
    loop
  ></audio>

  <script>
    const dialogue = document.getElementById("dialogue");
    const result = document.getElementById("result");
    const fade = document.getElementById("fade");
    const bgm = document.getElementById("bgm");

    bgm.volume = 0.5;
    bgm.play();

    // âœ… í˜ì´ì§€ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ìƒˆë¡œ ë½‘ê¸° (ê¸°ì¡´ ì €ì¥ ë¬´ì‹œ)
    const rand = Math.floor(Math.random() * 100);
    let role = "";
    let dmg = 0;
    let hp = 0;
    let color = "";

    if (rand < 50) {
      role = "ğŸ¥Š ë³µì„œ";
      dmg = 100;
      hp = 3;
      color = "#00aaff";
    } else if (rand < 90) {
      role = "ğŸª¨ ì§„í™”í•œ ìƒŒë“œë°±";
      dmg = 50;
      hp = 10;
      color = "#ffaa00";
    } else {
      role = "â˜ ï¸ ë„¤í¬ë¡œë§¨ì„œ";
      dmg = 100;
      hp = 8;
      color = "#b300ff";
    }

    // ğŸ§  localStorageì— ìƒˆë¡œ ì €ì¥ (ë§¤ë²ˆ ë®ì–´ì”€)
    localStorage.setItem("jinwooJob", role.replace(/[^ê°€-í£a-zA-Z]/g, ""));
    localStorage.setItem("jinwooAtk", dmg);
    localStorage.setItem("jinwooHp", hp);

    // ì—°ì¶œ íƒ€ì´ë°
    setTimeout(() => {
      dialogue.style.opacity = 1;
      dialogue.textContent = "í˜ì˜ íŒŒë™ì´ ëŠê»´ì§„ë‹¤...";
    }, 1500);

    setTimeout(() => {
      result.style.opacity = 1;
      result.style.color = color;
      result.innerHTML = `ë„ˆëŠ” <span style="font-size:2rem">${role}</span>ê°€ ë˜ì—ˆë‹¤!<br>
      ê³µê²©ë ¥ ğŸ’¥ ${dmg} / ì²´ë ¥ â¤ï¸ ${hp}`;
    }, 4000);

    setTimeout(() => {
      dialogue.textContent = "ìŠ¤ìŠ¹ë‹˜: í›Œë¥­í•˜êµ°... ë„¤ ìš´ëª…ì€ ì •í•´ì¡Œë‹¤.";
    }, 7000);

    setTimeout(() => {
      fade.style.opacity = 1;
    }, 10000);

    setTimeout(() => {
      window.location.href = "jinwo12.html";
    }, 13000);
  </script>
</body>
</html>
